@(tarefa: Tarefa, tarefaForm: Form[Tarefa], eventos: List[Evento])

@implicitFieldConstructor = @{ b4.vertical.fieldConstructor() }

@styles = {
    <link href="@routes.Assets.versioned("css/outros/album.css")" rel="stylesheet">
}

@scripts = {
	<script src="@routes.Assets.versioned("js/filtro.js")"></script>
}

@import java.util.Calendar

@dataCalculada(data: Integer) = @{	
	
	val hoje = Calendar.getInstance(TimeZone.getDefault());
	val dia = (hoje.get(Calendar.DAY_OF_YEAR) + data) % 30;
	val mes = ((hoje.get(Calendar.DAY_OF_YEAR) + data) / 30) + 1;
	val ano = hoje.get(Calendar.YEAR);
	
	Integer.toString(dia) +	" a " +
			Integer.toString(dia + 2) + 
			"/" + Integer.toString(mes) +
			"/" + Integer.toString(ano);
}

@mainEstudo(tarefa, tarefaForm, styles, scripts) {

<section class="jumbotron text-center">
	<div class="container">
		<h1 class="jumbotron-heading">Portal de Eventos</h1>		
	</div>
</section>

<div class="album py-5 bg-light">
	<div class="container">
		<div>			
			<input class="form-control" id="myInput" type="text" placeholder="Filtrar eventos">
		</div>
		<div class="row">
			@for(evento <- eventos) {
				@if(evento.getData >= 0) {
					<div id="myDIV" class="col-md-4">
						@b4.formCSRF(routes.ControladorEventos.detalhar, 
							'id -> "tarefaform", 
							'role -> "form") {

							@b4.hidden( tarefaForm("cliques"), 'name -> "cliques", 'value -> tarefa.getCliques )
							@b4.hidden( tarefaForm("id"), 'value -> tarefa.getId )
							@b4.hidden( tarefaForm("evento"), 'value -> evento.getId )
								
							<button type="submit" class="card card-body mb-4 w-100 box-shadow">
								<h5 class="cart-title">@evento.getSigla</h5>
								<p class="card-text">@evento.getNome</p>
								<p><small class="text-muted">@evento.getLocal</small></p>
								<p><small class="text-muted">@dataCalculada(evento.getData)</small></p>
							</button>
						}
					</div>
				}
			}
		</div>
	</div>
</div>
}